# 1. Создать все необходимые внешние ключи в базе данных vk. В качестве отчёта сдать команды создания ключей в текстовом виде.

ALTER TABLE users
ADD CONSTRAINT users_main_photo_id_fk
FOREIGN KEY (main_photo_id)
REFERENCES photo (id) ON DELETE CASCADE;

ALTER TABLE messages
ADD CONSTRAINT messages_from_user_id_fk
FOREIGN KEY (from_user_id)
REFERENCES users (id) ON DELETE CASCADE;

ALTER TABLE messages
ADD CONSTRAINT messages_to_photo_id_fk
FOREIGN KEY (to_user_id)
REFERENCES users (id) ON DELETE CASCADE;

ALTER TABLE communities
ADD CONSTRAINT communities_creator_id_fk
FOREIGN KEY (creator_id)
REFERENCES users (id) ON DELETE CASCADE;

ALTER TABLE communities_users
ADD CONSTRAINT communities_users_community_id_fk
FOREIGN KEY (community_id)
REFERENCES communities (id) ON DELETE CASCADE;

ALTER TABLE communities_users
ADD CONSTRAINT communities_users_user_id_fk
FOREIGN KEY (user_id)
REFERENCES users (id) ON DELETE CASCADE;

ALTER TABLE friendship
ADD CONSTRAINT friendship_requested_by_user_id_fk
FOREIGN KEY (requested_by_user_id)
REFERENCES users (id) ON DELETE CASCADE;

ALTER TABLE friendship
ADD CONSTRAINT friendship_confirmed_by_user_id_fk
FOREIGN KEY (confirmed_by_user_id)
REFERENCES users (id) ON DELETE CASCADE;

ALTER TABLE friendship
ADD CONSTRAINT friendship_status_id_fk
FOREIGN KEY (status_id)
REFERENCES friendship_statuses (id) ON DELETE CASCADE;

ALTER TABLE subscriptions
ADD CONSTRAINT subscriptions_type_id_fk
FOREIGN KEY (type_id)
REFERENCES subscription_type (id) ON DELETE CASCADE;

ALTER TABLE subscriptions
ADD CONSTRAINT subscriptions_signed_on_id_fk_users
FOREIGN KEY (signed_on_id)
REFERENCES users (id) ON DELETE CASCADE;

ALTER TABLE subscriptions
ADD CONSTRAINT subscriptions_signed_on_id_fk_communities
FOREIGN KEY (signed_on_id)
REFERENCES communities (id) ON DELETE CASCADE;

ALTER TABLE subscriptions
ADD CONSTRAINT subscriptions_subscriber_id_fk
FOREIGN KEY (subscriber_id)
REFERENCES users (id) ON DELETE CASCADE;

ALTER TABLE photo
ADD CONSTRAINT photo_owner_id_fk
FOREIGN KEY (owner_id)
REFERENCES users (id) ON DELETE CASCADE;
